shadow$provide.module$node_modules$react_frame_component$lib$Frame=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==typeof call&&"function"!==typeof call?self:call}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+
typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}});superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=
source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();
global=require("module$node_modules$react$index");var _react2=_interopRequireDefault(global);module=require("module$node_modules$react_dom$index");var _reactDom2=_interopRequireDefault(module);module=require("module$node_modules$prop_types$index");module=_interopRequireDefault(module);var _Context=require("module$node_modules$react_frame_component$lib$Context");require=require("module$node_modules$react_frame_component$lib$Content");var _Content2=_interopRequireDefault(require);require=function(_Component){function Frame(props,
context){if(!(this instanceof Frame))throw new TypeError("Cannot call a class as a function");var _this=_possibleConstructorReturn(this,(Frame.__proto__||Object.getPrototypeOf(Frame)).call(this,props,context));_this.handleLoad=function(){_this.forceUpdate()};_this._isMounted=!1;return _this}_inherits(Frame,_Component);_createClass(Frame,[{key:"componentDidMount",value:function(){this._isMounted=!0;var doc=this.getDoc();doc&&"complete"===doc.readyState?this.forceUpdate():this.node.addEventListener("load",
this.handleLoad)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1;this.node.removeEventListener("load",this.handleLoad)}},{key:"getDoc",value:function(){return this.node?this.node.contentDocument:null}},{key:"getMountTarget",value:function(){var doc=this.getDoc();return this.props.mountTarget?doc.querySelector(this.props.mountTarget):doc.body.children[0]}},{key:"renderFrameContents",value:function(){if(!this._isMounted)return null;var doc=this.getDoc();if(!doc)return null;var initialRender=
!this._setInitialContent,contents=_react2.default.createElement(_Content2.default,{contentDidMount:this.props.contentDidMount,contentDidUpdate:this.props.contentDidUpdate},_react2.default.createElement(_Context.FrameContextProvider,{value:{document:doc,window:doc.defaultView||doc.parentView}},_react2.default.createElement("div",{className:"frame-content"},this.props.children)));initialRender&&(doc.open("text/html","replace"),doc.write(this.props.initialContent),doc.close(),this._setInitialContent=
!0);doc=this.getMountTarget();return[_reactDom2.default.createPortal(this.props.head,this.getDoc().head),_reactDom2.default.createPortal(contents,doc)]}},{key:"render",value:function(){var _this2=this,props=_extends({},this.props,{children:void 0});delete props.head;delete props.initialContent;delete props.mountTarget;delete props.contentDidMount;delete props.contentDidUpdate;return _react2.default.createElement("iframe",_extends({},props,{ref:function(node){_this2.node=node}}),this.renderFrameContents())}}]);
return Frame}(global.Component);require.propTypes={style:module.default.object,head:module.default.node,initialContent:module.default.string,mountTarget:module.default.string,contentDidMount:module.default.func,contentDidUpdate:module.default.func,children:module.default.oneOfType([module.default.element,module.default.arrayOf(module.default.element)])};require.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3c/head\x3e\x3cbody\x3e\x3cdiv class\x3d"frame-root"\x3e\x3c/div\x3e\x3c/body\x3e\x3c/html\x3e'};
exports.default=require}
//# sourceMappingURL=module$node_modules$react_frame_component$lib$Frame.js.map
